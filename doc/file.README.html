<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.24
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><h1>Bitfinex Trading API for Ruby - Bitcoin, Ethereum, Ripple and more</h1>

<p><a href="https://codeclimate.com/repos/56db27e5b86182573b0045ed/feed"><img src="https://codeclimate.com/repos/56db27e5b86182573b0045ed/badges/bd763083d70114379a41/gpa.svg" alt="Code Climate"></a></p>

<p>A Ruby reference implementation of the Bitfinex REST &amp; WebSocket APIs.</p>

<p>This repo is primarily made up of 3 classes: RESTv1, RESTv2, and WSv2, which implement their respective versions of the Bitfinex API. It is recommended that you use the REST APIs for reading data, and the WebSocket API for submitting orders and interacting with the Bitfinex platform.</p>

<p>Check the <a href="http://docs.bitfinex.com/">Bitfinex API documentation</a> for more information.</p>

<h3>Features</h3>

<ul>
<li>Official implementation</li>
<li>REST API v1</li>
<li>REST API v2</li>
<li>WebSockets API version 2</li>
</ul>

<h2>Installation</h2>

<p>Add this line to your application&#39;s Gemfile:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bitfinex-rb</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:require</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bitfinex</span><span class='tstring_end'>&quot;</span></span>
</code></pre>

<p>And then execute:</p>

<pre class="code bash"><code class="bash">bundle
</code></pre>

<p>Or install it yourself as:</p>

<pre class="code bash"><code class="bash">gem install bitfinex-rb
</code></pre>

<h3>Quickstart</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_client'>client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Bitfinex.html" title="Bitfinex (module)">Bitfinex</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Bitfinex/WSv2.html" title="Bitfinex::WSv2 (class)">WSv2</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Bitfinex/WSv2.html#initialize-instance_method" title="Bitfinex::WSv2#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='lbrace'>{</span>
  <span class='symbol'>:api_key</span> <span class='op'>=&gt;</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>API_KEY</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='symbol'>:api_secret</span> <span class='op'>=&gt;</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>API_SECRET</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='symbol'>:transform</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='comment'># provide models as event data instead of arrays
</span><span class='rbrace'>}</span><span class='rparen'>)</span>

<span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='symbol'>:open</span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_auth!'>auth!</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='symbol'>:auth</span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>succesfully authenticated</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Bitfinex.html" title="Bitfinex (module)">Bitfinex</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Bitfinex/Models.html" title="Bitfinex::Models (module)">Models</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Bitfinex/Models/Order.html" title="Bitfinex::Models::Order (class)">Order</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Bitfinex/Models/Order.html#initialize-instance_method" title="Bitfinex::Models::Order#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='lbrace'>{</span>
    <span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>EXCHANGE LIMIT</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='symbol'>:price</span> <span class='op'>=&gt;</span> <span class='float'>3.0152235</span><span class='comma'>,</span>
    <span class='symbol'>:amount</span> <span class='op'>=&gt;</span> <span class='float'>2.0235235263262</span><span class='comma'>,</span>
    <span class='symbol'>:symbol</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>tEOSUSD</span><span class='tstring_end'>&#39;</span></span>
  <span class='rbrace'>}</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_submit_order'>submit_order</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</code></pre>

<h3>Docs</h3>

<p><a href="/docs/events.md">Refer to <code>docs/events.md</code></a> for a list of available events which can be consumed. Official API docs pending.</p>

<p>For ready to run examples, see the <a href="/examples"><code>examples/</code> folder</a>.</p>

<h3>Examples</h3>

<h4>Usage of RESTv1/RESTv2</h4>

<p>To use the REST APIs, construct a new API client with your account credentials:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_client'>client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Bitfinex.html" title="Bitfinex (module)">Bitfinex</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Bitfinex/RESTv2.html" title="Bitfinex::RESTv2 (class)">RESTv2</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Bitfinex/RESTv2.html#initialize-instance_method" title="Bitfinex::RESTv2#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='lbrace'>{</span>
  <span class='symbol'>:api_key</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>...</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='symbol'>:api_secret</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>...</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
<span class='rbrace'>}</span><span class='rparen'>)</span>
</code></pre>

<p>Then use it to submit queries, i.e. <code>client.balances</code></p>

<h4>Usage of WSv2</h4>

<p>To use version 2 of the WS API, construct a new client with your credentials, bind listeners to react to stream events, and open the connection:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_client'>client</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Bitfinex.html" title="Bitfinex (module)">Bitfinex</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Bitfinex/WSv2.html" title="Bitfinex::WSv2 (class)">WSv2</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Bitfinex/WSv2.html#initialize-instance_method" title="Bitfinex::WSv2#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='lbrace'>{</span>
  <span class='symbol'>:url</span> <span class='op'>=&gt;</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>WS_URL</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='symbol'>:api_key</span> <span class='op'>=&gt;</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>API_KEY</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='symbol'>:api_secret</span> <span class='op'>=&gt;</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>API_SECRET</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='symbol'>:transform</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='comment'># provide models as event data instead of arrays
</span>  <span class='symbol'>:seq_audit</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='comment'># enable and audit sequence numbers
</span>  <span class='symbol'>:manage_order_books</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='comment'># allows for OB checksum verification
</span>  <span class='symbol'>:checksum_audit</span> <span class='op'>=&gt;</span> <span class='kw'>true</span> <span class='comment'># enables OB checksum verification (needs manage_order_books)
</span><span class='rbrace'>}</span><span class='rparen'>)</span>

<span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='symbol'>:open</span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_auth!'>auth!</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='symbol'>:auth</span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>succesfully authenticated</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Bitfinex.html" title="Bitfinex (module)">Bitfinex</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Bitfinex/Models.html" title="Bitfinex::Models (module)">Models</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Bitfinex/Models/Order.html" title="Bitfinex::Models::Order (class)">Order</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Bitfinex/Models/Order.html#initialize-instance_method" title="Bitfinex::Models::Order#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='lbrace'>{</span>
    <span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>EXCHANGE LIMIT</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='symbol'>:price</span> <span class='op'>=&gt;</span> <span class='float'>3.0152235</span><span class='comma'>,</span>
    <span class='symbol'>:amount</span> <span class='op'>=&gt;</span> <span class='float'>2.0235235263262</span><span class='comma'>,</span>
    <span class='symbol'>:symbol</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>tEOSUSD</span><span class='tstring_end'>&#39;</span></span>
  <span class='rbrace'>}</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_submit_order'>submit_order</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='rparen'>)</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='symbol'>:notification</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>received notification: %s</span><span class='tstring_end'>&#39;</span></span> <span class='op'>%</span> <span class='lbracket'>[</span><span class='id identifier rubyid_n'>n</span><span class='rbracket'>]</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='symbol'>:order_new</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_msg'>msg</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>recv order new: %s</span><span class='tstring_end'>&#39;</span></span> <span class='op'>%</span> <span class='lbracket'>[</span><span class='id identifier rubyid_msg'>msg</span><span class='rbracket'>]</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_open!'>open!</span>
</code></pre>

<h4>Order Manipulation</h4>

<p>Three methods are provided for dealing with orders: <code>submit_order</code>, <code>update_order</code> and <code>cancel_order</code>. All methods support callback blocks, which are triggered upon receiving the relevant confirmation notifications. Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Bitfinex.html" title="Bitfinex (module)">Bitfinex</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Bitfinex/Models.html" title="Bitfinex::Models (module)">Models</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Bitfinex/Models/Order.html" title="Bitfinex::Models::Order (class)">Order</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Bitfinex/Models/Order.html#initialize-instance_method" title="Bitfinex::Models::Order#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='lbrace'>{</span>
  <span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>EXCHANGE LIMIT</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='symbol'>:price</span> <span class='op'>=&gt;</span> <span class='float'>3.0152235</span><span class='comma'>,</span>
  <span class='symbol'>:amount</span> <span class='op'>=&gt;</span> <span class='float'>2.0235235263262</span><span class='comma'>,</span>
  <span class='symbol'>:symbol</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>tEOSUSD</span><span class='tstring_end'>&#39;</span></span>
<span class='rbrace'>}</span><span class='rparen'>)</span>

<span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_submit_order'>submit_order</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_order_packet'>order_packet</span><span class='op'>|</span>
  <span class='id identifier rubyid_p'>p</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>recv order confirmation packet with ID </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_order_packet'>order_packet</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_update_order'>update_order</span><span class='lparen'>(</span><span class='lbrace'>{</span>
    <span class='symbol'>:id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_order_packet'>order_packet</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span>
    <span class='symbol'>:price</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.0</span><span class='tstring_end'>&#39;</span></span>
  <span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_update_packet'>update_packet</span><span class='op'>|</span>
    <span class='id identifier rubyid_p'>p</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>updated order </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_update_packet'>update_packet</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'> with price </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_update_packet'>update_packet</span><span class='period'>.</span><span class='id identifier rubyid_price'>price</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_cancel_order'>cancel_order</span><span class='lparen'>(</span><span class='id identifier rubyid_order_packet'>order_packet</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_canceled_order'>canceled_order</span><span class='op'>|</span>
      <span class='id identifier rubyid_p'>p</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>canceled order with ID </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_canceled_order'>canceled_order</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<h3>Contributing</h3>

<ol>
<li>Fork it</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am &#39;Add some feature&#39;</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create a new Pull Request</li>
</ol>
</div></div>

      <div id="footer">
  Generated on Tue Mar 10 14:19:27 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.24 (ruby-2.7.0).
</div>

    </div>
  </body>
</html>